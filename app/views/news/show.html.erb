<%- content_for( :new_items_active ) { "nav-link-active" } %>
<div class="news-view view">
  <nav class="news-list-nav">
    <% if @page <= 0 %>
      <a href="/news" class="disabled">&lt; prev</a>
    <% else %>
      <%= link_to "&lt; prev".html_safe, new_path(page: @page - 1) %>
    <% end %>
    <span><%= @page + 1 %>/<%= @total_pages + 1 %></span>
    <% if @page + 1 > @total_pages %>
      <a class="disabled">more &gt;</a>
    <% else %>
      <%= link_to "more &gt;".html_safe, new_path(page: @page + 1) %>
    <% end %>
  </nav>
  <main class="news-list">
    <%= cache ['new-list', @new_item, @page] do %>
      <ul data-controller="new-item items" data-items-items="<%= @new_items.pluck(:item_id) %>">
        <% @new_items.each do |new_item| %>
          <%= cache new_item do %>
            <%= render new_item %>
          <% end %>
        <% end %>
      </ul>
    <% end %>
  </main>